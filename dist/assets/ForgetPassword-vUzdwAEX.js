import{r as t,ap as h,j as e,ar as f,U as j,ak as v,ag as y,aw as S,at as b,au as N,av as o}from"./index-VMf9MKGU.js";const F=()=>{const[c,m]=t.useState({email:""}),[d,u]=t.useState({email:void 0}),g=h();t.useEffect(()=>{localStorage.getItem("userID")&&g("/home")},[]);const[n,r]=t.useState(!1),p=s=>{m(i=>({...i,[s.target.name]:s.target.value}))};t.useState(!1);const x=async()=>{r(!0);try{const{data:s}=await N.post(`${b}/auth/forget-password`,c,{headers:{"Content-Type":"application/json"},withCredentials:!0}),{status:i,res:l}=s;if(i===400){const{error:{errorList:a}}=l;u(C=>({...a})),r(!1)}else{if(r(!1),i===200){const{success:{msg:a}}=l;o.success(a),setTimeout(()=>{g("/")},3e3)}else{const{error:{msg:a}}=l;o.error(a)}u({email:void 0}),m({email:""})}}catch(s){r(!1),o.error(s.message)}};return e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsx("div",{className:"formContainer",style:{marginTop:"120px"},children:e.jsxs("div",{className:"leftForm",children:[e.jsx(j,{className:"title",variant:"h4",children:"Forget Password"}),e.jsxs("div",{className:"normalForm",children:[e.jsx("div",{className:"inputContainer",children:e.jsx(v,{fullWidth:!0,type:"text",label:"Email",name:"email",id:"email",value:c.email,onChange:p})}),d.email&&e.jsx("span",{className:"err",children:d.email})]}),e.jsx("div",{className:"normalForm",children:e.jsxs("div",{className:"submit_now",children:[e.jsx("button",{onClick:x,disabled:n,style:{display:"flex",alignItems:"center",justifyContent:"center",background:n?"gray":"#1dbf73"},children:n?e.jsx(y,{size:"2rem",color:"primary"}):"Submit"}),e.jsx("div",{className:"alread",style:{marginTop:"14px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:e.jsx(S,{to:"/signup",children:"don't have an account? Signup"})})]})})]})})]})};export{F as default};
